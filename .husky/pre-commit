#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-commit checks..."

# Backend checks
echo "Checking Backend TypeScript..."
cd Backend && npx tsc --noEmit || exit 1

echo "Checking Backend ESLint..."
npx eslint src/**/*.ts || exit 1

echo "Checking Backend Prettier formatting..."
npm run format:check || exit 1

# Frontend checks
echo "Checking Frontend TypeScript..."
cd ../Frontend && npx tsc --noEmit || exit 1

echo "Checking Frontend Prettier formatting..."
npm run format:check || exit 1

echo "Note: Frontend has 86 documented ESLint errors (React Hooks violations) to be fixed in Phase 2"

echo "âœ… All pre-commit checks passed!"
cd ..
