Quick Start (CLMS)

1) Install Docker Desktop (Windows)
   - Download and install Docker Desktop; allow WSL2 integration.

2) Extract the package
   - Unzip CLMS_Release.zip to C:\CLMS

3) Detect your computer IP (copy/paste)
   - Open PowerShell and run:
     (Get-NetIPAddress -AddressFamily IPv4 | Where-Object { $_.IPAddress -notmatch '^169\.' -and $_.InterfaceAlias -notmatch 'Loopback|VPN|vEthernet' } | Select-Object -ExpandProperty IPAddress -First 1)
   - Note the IP shown (example: 192.168.2.6)

4) Set the environment file (copy/paste)
   - Open C:\CLMS\.env.production and update these lines with your IP:
     FRONTEND_URL=http://<YOUR_IP>:8080
     ALLOWED_ORIGINS=http://<YOUR_IP>:8080
     PUBLIC_API_URL=http://<YOUR_IP>:3001
     PUBLIC_WS_URL=ws://<YOUR_IP>:3001
   - Ensure strong secrets (you can copy these examples):
     JWT_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
     JWT_REFRESH_SECRET=abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789

5) Open firewall (copy/paste for IT)
   - Private network, Local Subnet only. In PowerShell (admin):
     New-NetFirewallRule -DisplayName "CLMS Backend 3001" -Direction Inbound -Action Allow -Protocol TCP -LocalPort 3001 -Profile Private -RemoteAddress LocalSubnet
     New-NetFirewallRule -DisplayName "CLMS Frontend 8080" -Direction Inbound -Action Allow -Protocol TCP -LocalPort 8080 -Profile Private -RemoteAddress LocalSubnet

6) Start CLMS (copy/paste)
   - In PowerShell:
     cd C:\CLMS
     docker compose --env-file .env.production -f docker-compose.prod.yml up -d --build

7) Check it’s running (copy/paste)
   - In PowerShell:
     docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
     curl http://localhost:3001/health

8) Open the app
   - On your computer: http://<YOUR_IP>:8080
   - On other school computers/kiosk: http://<YOUR_IP>:8080

9) Kiosk display
   - In Dashboard, create a kiosk token.
   - On the kiosk computer, open the app URL and sign in with the kiosk token.
   - Attendance updates appear live.

10) Update CLMS later (copy/paste)
   - In PowerShell:
     cd C:\CLMS
     docker compose --env-file .env.production -f docker-compose.prod.yml build --no-cache
     docker compose --env-file .env.production -f docker-compose.prod.yml up -d --force-recreate
   - The app will show “New version available”. Press Refresh.

11) Backup MySQL (copy/paste)
   - In PowerShell:
     docker exec clms-mysql-prod mysqldump -uroot -p<ROOT_PASSWORD> clms_database > C:\Backups\clms_$(Get-Date -Format yyyyMMdd).sql

Screens overview
 - Dashboard: system health, versions, live activity, kiosk tokens.
 - Students: search, view, scan student barcode for attendance.
 - Books: search by accession (Barcode), title, author; view availability.
 - Checkout/Return: scan student barcode, then book accession.
 - Import: Enhanced import for students and books (CSV/Excel).
 - Announcements: post notices.
 - Analytics: charts for activity and borrowing.
 - Equipment/Printing: track items & print quotas (if enabled).
 - Settings: users/roles, borrowing policies, sections/categories.
 - Logs: errors and request logs.

Troubleshooting
 - If not reachable from other computers: ensure firewall rules for 3001 and 8080.
 - If backend restarts: ensure dev servers are off; use Docker only.
 - Health endpoint: http://<YOUR_IP>:3001/health